;/*FB_PKG_DELIM*/

__d("FXIGIdentitySwitcherDialogContentQuery$Parameters",["cr:2218"],(function(a,b,c,d,e,f){"use strict";e.exports=b("cr:2218")}),null);
__d("FXIGIdentitySwitcherDialogContentQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5102952559805494"}),null);
__d("FXIGIdentitySwitcherDialogContentQuery$Parameters.instagram",["FXIGIdentitySwitcherDialogContentQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("FXIGIdentitySwitcherDialogContentQuery_instagramRelayOperation"),metadata:{},name:"FXIGIdentitySwitcherDialogContentQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useFXUserData",["Actor","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("Actor").useActor();a=a[0];return{accountId:c("CurrentUser").getAccountID(),actorId:a}}g["default"]=a}),98);
__d("useFXSwitcherButtonTappedLogger",["requireDeferred","useFXUserData"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("SwitcherButtonTappedFalcoEvent").__setRef("useFXSwitcherButtonTappedLogger");function a(){var a=c("useFXUserData")(),b=a.accountId,d=a.actorId;return function(a){h.onReady(function(c){c.log(function(){return babelHelpers["extends"]({entry_point:"settings",initiator_account_id:b,initiator_identity_id:d,is_cds:!0},a)})})}}g["default"]=a}),98);
__d("FXIGIdentitySwitcherDialog.entrypoint",["FXIGIdentitySwitcherDialogContentQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{fxQueryReference:{parameters:c("FXIGIdentitySwitcherDialogContentQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("FXIGIdentitySwitcherDialog.react").__setRef("FXIGIdentitySwitcherDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("PolarisSwitchAccountsModalLegacyConstants",[],(function(a,b,c,d,e,f){"use strict";a=50;b=72;f.FOOTER_HEIGHT=a;f.ITEM_HEIGHT=b}),66);
__d("PolarisSwitchAccountsModalLegacyBody.react",["IGDSBox.react","IGDSCheckbox.react","IGDSListItem.react","IGDSSpinner.react","PolarisAuthActionConstants","PolarisAuthFormCard.react","PolarisFXSSOActions","PolarisIGCoreConstants","PolarisLoginActionLoginWithFBJSSDK","PolarisLoginActionOneTapLogin","PolarisOneTapLoginStorage","PolarisReactRedux","PolarisSwitchAccountsModalLegacyConstants","PolarisUA","PolarisUserAvatar.react","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i="accountSwitcherModal",j=2*d("PolarisSwitchAccountsModalLegacyConstants").ITEM_HEIGHT+8,k=5*d("PolarisSwitchAccountsModalLegacyConstants").ITEM_HEIGHT+8;function a(a){var b=a.fbConnectedUsers,e=a.igConnectedUsers;a=a.oneTapUserIds;var f=d("PolarisReactRedux").useDispatch(),g=c("usePolarisViewer")(),m=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType}),n=d("PolarisReactRedux").useSelector(function(a){return a==null?void 0:(a=a.fb)==null?void 0:(a=a.authResponse)==null?void 0:a.userID}),o=d("PolarisOneTapLoginStorage").getLoginNonces();switch(m){case d("PolarisAuthActionConstants").AUTH.fbLogin:case d("PolarisAuthActionConstants").AUTH.fbAccountPicker:case d("PolarisAuthActionConstants").AUTH.oneTapLogin:return h.jsxs(c("IGDSBox.react"),{flex:"grow",maxHeight:d("PolarisUA").isDesktop()?k:void 0,minHeight:d("PolarisUA").isDesktop()?j:void 0,overflow:"auto",position:"relative",children:[(g==null?void 0:g.profilePictureUrl)!=null&&(g==null?void 0:g.username)!=null&&h.jsx(c("IGDSListItem.react"),{addOnEnd:h.jsx(c("IGDSCheckbox.react"),{checkboxShape:"circle",isChecked:!0,name:"SwitchAccountsModalCheckbox",onChange:function(){}}),addOnStart:h.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:g==null?void 0:g.profilePictureUrl,size:c("PolarisIGCoreConstants").AVATAR_SIZES.large,username:g==null?void 0:g.username}),title:g==null?void 0:g.username}),b!=null&&(b==null?void 0:b.length)!==0&&n!=null&&b.map(function(a){return h.jsx(l,{onClick:function(){return f(d("PolarisLoginActionLoginWithFBJSSDK").loginWithFBJSSDK({source:i},a.username))},profilePictureUrl:a.profilePictureUrl,userId:n,username:a.username},a.username)}),a.map(function(a){var b=o[a],c=b.nonce,e=b.profilePicUrl;b=b.username;var g=function b(){f(d("PolarisLoginActionOneTapLogin").switchAccountLogin({loginNonce:c,retry:b,userId:a}))};return h.jsx(l,{onClick:g,profilePictureUrl:e,userId:a,username:b},a)}),e!=null&&(e==null?void 0:e.length)!==0&&e.map(function(a){return h.jsx(l,{onClick:function(){return f(d("PolarisFXSSOActions").loginWithIGSSO(a.username))},profilePictureUrl:a.profilePictureUrl,userId:null,username:a.username},a.username)})]});case d("PolarisAuthActionConstants").AUTH.login:case d("PolarisAuthActionConstants").AUTH.twoFactor:case d("PolarisAuthActionConstants").AUTH.signup:return h.jsx(c("IGDSBox.react"),{alignItems:"center",maxHeight:800,overflow:"auto",position:"relative",children:h.jsx(c("PolarisAuthFormCard.react"),{hideAppUpsells:!0,hideBorder:!0,pageIdentifier:i,style:"modal",useMobileFooterPadding:!1})});default:return null}}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.onClick,e=a.profilePictureUrl,f=a.userId;a=a.username;var g=d("PolarisReactRedux").useSelector(function(a){var b;return((b=a.auth.login)==null?void 0:b.requestInFlight)||((b=a.auth.twoFactor)==null?void 0:b.requestInFlight)||!1}),i=d("PolarisReactRedux").useSelector(function(a){return(a=a.auth.login)==null?void 0:a.userId}),j=d("PolarisReactRedux").useSelector(function(a){return(a=a.auth.login)==null?void 0:a.igUsername}),k=d("PolarisReactRedux").useSelector(function(a){return a.fxSSO.requestInFlight}),l=d("PolarisReactRedux").useSelector(function(a){return a.fxSSO.ssoUsername});return h.jsx(c("IGDSListItem.react"),{addOnEnd:g&&f!==null&&i===f&&(j==null||j===a)||k&&a===l?h.jsx(c("IGDSSpinner.react"),{}):void 0,addOnStart:h.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:e,size:c("PolarisIGCoreConstants").AVATAR_SIZES.large,username:a}),onPress:function(){b()},title:a})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLegacyFooter.react",["IGDSBox.react","IGDSButton.react","IGDSDivider.react","PolarisAuthActionConstants","PolarisAuthActions","PolarisNavigationStrings","PolarisReactRedux","PolarisSignupTypes","PolarisSwitchAccountsModalLegacyConstants","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.numAccounts;var b=d("PolarisReactRedux").useDispatch(),e=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType}),f=d("PolarisReactRedux").useSelector(function(a){return(a=a.auth.signup)==null?void 0:a.step}),g=function(a){b(d("PolarisAuthActions").switchAuthType(a))},i;switch(e){case d("PolarisAuthActionConstants").AUTH.fbLogin:case d("PolarisAuthActionConstants").AUTH.fbAccountPicker:case d("PolarisAuthActionConstants").AUTH.oneTapLogin:i=h.jsx(c("IGDSButton.react"),{display:"block",label:d("PolarisNavigationStrings").LOG_IN_EXISTING_ACCOUNT,onClick:function(){return g(d("PolarisAuthActionConstants").AUTH.login)},variant:"primary_link"});break;case d("PolarisAuthActionConstants").AUTH.signup:if(f!==d("PolarisSignupTypes").STEP.base)return null;case d("PolarisAuthActionConstants").AUTH.login:case d("PolarisAuthActionConstants").AUTH.twoFactor:default:return null}return i!=null?h.jsxs(h.Fragment,{children:[(d("PolarisUA").isDesktop()||d("PolarisUA").isMobile()&&a>1)&&h.jsx(c("IGDSDivider.react"),{}),h.jsx(c("IGDSBox.react"),{alignItems:"center",height:d("PolarisSwitchAccountsModalLegacyConstants").FOOTER_HEIGHT,justifyContent:"center",position:"relative",children:i})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLegacyHeader.react",["IGDSBox.react","IGDSDivider.react","IGDSIconButton.react","IGDSXPanoFilledIcon","PolarisAuthActionConstants","PolarisAuthStrings","PolarisGenericStrings","PolarisIGCoreModalHeader","PolarisIGCoreText","PolarisReactRedux","PolarisUA","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.onClose;var b=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType});switch(b){case d("PolarisAuthActionConstants").AUTH.fbLogin:case d("PolarisAuthActionConstants").AUTH.fbAccountPicker:case d("PolarisAuthActionConstants").AUTH.oneTapLogin:return d("PolarisUA").isDesktop()?h.jsx(c("PolarisIGCoreModalHeader"),{onClose:a,truncateText:!0,children:d("PolarisAuthStrings").SWITCH_ACCOUNTS}):h.jsxs(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:[h.jsx(c("IGDSBox.react"),{marginBottom:1,paddingX:4,paddingY:3,position:"relative",children:h.jsx(c("PolarisIGCoreText"),{display:"truncated",size:"label",weight:"semibold",children:d("PolarisAuthStrings").SWITCH_ACCOUNTS})}),h.jsx(c("IGDSDivider.react"),{})]});case d("PolarisAuthActionConstants").AUTH.login:case d("PolarisAuthActionConstants").AUTH.twoFactor:case d("PolarisAuthActionConstants").AUTH.signup:return d("PolarisUA").isMobile()?null:h.jsx(c("IGDSBox.react"),{alignItems:"end",marginTop:3,paddingX:3,position:"relative",children:h.jsx(c("IGDSIconButton.react"),{onClick:a,children:h.jsx(c("IGDSXPanoFilledIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,size:18})})});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModalLegacy.react",["IGCoreModal","IGDSBox.react","PolarisAuthActionConstants","PolarisAuthActions","PolarisFBConnectHelpers","PolarisIGCoreSheet","PolarisNavigationActions","PolarisOneTapLoginStorage","PolarisReactRedux","PolarisSwitchAccountsModalLegacyBody.react","PolarisSwitchAccountsModalLegacyConstants","PolarisSwitchAccountsModalLegacyFooter.react","PolarisSwitchAccountsModalLegacyHeader.react","PolarisUA","Promise","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=1,j=69;function k(a){var b=window.innerHeight;a=a*d("PolarisSwitchAccountsModalLegacyConstants").ITEM_HEIGHT+j+(d("PolarisSwitchAccountsModalLegacyConstants").FOOTER_HEIGHT+i);a=a/b*100;return Math.round(a)+1}function a(){var a,e=d("PolarisReactRedux").useDispatch(),f=c("usePolarisViewer")(),g=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType}),i=function(){b("Promise").resolve(e(d("PolarisNavigationActions").closeAccountSwitcher())).then(function(){return e(d("PolarisAuthActions").resetAuth())})},j=(a=d("PolarisReactRedux").useSelector(function(a){return a.fb.igProfiles}))==null?void 0:a.filter(function(a){return a.username!==(f==null?void 0:f.username)&&d("PolarisFBConnectHelpers").isFBCUnique(a.username)});a=(a=d("PolarisReactRedux").useSelector(function(a){return a.fxSSO.igProfiles}))==null?void 0:a.filter(function(a){return a.username!==(f==null?void 0:f.username)&&d("PolarisFBConnectHelpers").isFBCUnique(a.username)&&(!j||!j.some(function(b){return b.username===a.username}))});var l=d("PolarisOneTapLoginStorage").getLoginNonces();l=Object.keys(l).filter(function(a){return a!==(f==null?void 0:f.id)});var m=(f!=null?1:0)+(j!=null?j.length:0)+l.length+(a!=null?a.length:0);a=h.jsxs(c("IGDSBox.react"),{"data-testid":void 0,height:"100%",children:[h.jsx(c("PolarisSwitchAccountsModalLegacyHeader.react"),{onClose:i}),h.jsx(c("PolarisSwitchAccountsModalLegacyBody.react"),{fbConnectedUsers:j,igConnectedUsers:a,oneTapUserIds:l}),h.jsx(c("PolarisSwitchAccountsModalLegacyFooter.react"),{numAccounts:m})]});if(d("PolarisUA").isDesktop()||d("PolarisUA").isMobile()&&(g===d("PolarisAuthActionConstants").AUTH.login||g===d("PolarisAuthActionConstants").AUTH.twoFactor))return h.jsx(c("IGCoreModal"),{closeButtonPosition:d("PolarisUA").isMobile()?"background":void 0,disablePopInAnimation:!0,onClose:i,children:a});l=k(m);g=[];l>=100?g=["100%"]:m<=3||l<=50?g=[l+"%"]:g=["50%",l+"%"];return h.jsx(c("PolarisIGCoreSheet"),{onClose:i,stops:g,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSwitchAccountsModal.react",["CometDialogLoadingState.react","FXIGIdentitySwitcherDialog.entrypoint","FXIdentitySwitcherGating","PolarisAuthActionConstants","PolarisAuthActions","PolarisNavigationActions","PolarisReactRedux","PolarisSwitchAccountsModalLegacy.react","Promise","promiseDone","react","useCometEntryPointDialog","useFXSwitcherButtonTappedLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useEffect,j=e.useRef,k=[d("PolarisAuthActionConstants").AUTH.fbLogin,d("PolarisAuthActionConstants").AUTH.fbAccountPicker,d("PolarisAuthActionConstants").AUTH.fxSSO,d("PolarisAuthActionConstants").AUTH.oneTapLogin];function a(){var a=d("PolarisReactRedux").useSelector(function(a){return a.auth.authType}),e=d("PolarisReactRedux").useDispatch(),f=k.includes(a)&&d("FXIdentitySwitcherGating").shouldShowCompanySwitcherOnIG(),g=j(!1),l=function(){g.current=!1};a=function(a){return h.jsx(c("CometDialogLoadingState.react"),{onClose:function(){a(),c("promiseDone")(b("Promise").resolve(e(d("PolarisNavigationActions").closeAccountSwitcher())).then(function(){return e(d("PolarisAuthActions").resetAuth())}))}})};a=c("useCometEntryPointDialog")(c("FXIGIdentitySwitcherDialog.entrypoint"),{},void 0,a);var m=a[0],n=c("useFXSwitcherButtonTappedLogger")();i(function(){f&&!g.current&&(g.current=!0,m({onBeforeClose:l}),n({is_badge_shown:!1}))},[f,m,n]);return f?null:h.jsx(c("PolarisSwitchAccountsModalLegacy.react"),{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDShell.react",["BaseTheme.react","IGDSBox.react","IGDThemeConfig","PolarisBaseShell.react","PolarisCallGatingHelpers","PolarisCreationModal.react","PolarisHasFeedCreation","PolarisQPConstants","PolarisQPManager.react","PolarisReactRedux","PolarisSwitchAccountsModal.react","PolarisToastWrapper.react","VideoPlayerGlobalComponents.react","cr:1005","deferredLoadComponent","polarisIsUserLoggedIn","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("PolarisIncomingCall.react").__setRef("IGDShell.react")),j=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectVerifiedUserCallingNotEnabledModal.react").__setRef("IGDShell.react")),k=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectVerifiedUserCallingNotFollowingModal.react").__setRef("IGDShell.react")),l={desktopContent:{backgroundColor:"xnz67gz",flexGrow:"x1iyjqo2",height:"x5yr21d",maxHeight:"xmz0i5r",paddingTop:"xlnp5zw",$$css:!0},root:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};a=function(a){a=a.children;var e=d("PolarisReactRedux").useSelector(function(a){return a.navigation.isAccountSwitcherOpen}),f=d("PolarisReactRedux").useSelector(function(a){return a.navigation.isFeedCreationModalOpen}),g=d("PolarisReactRedux").useSelector(function(a){return a.direct.verifiedUserCalling}),m=g.notEnabledModalOpen;g=g.notFollowingModalOpen;var n=null;f&&d("PolarisHasFeedCreation").hasFeedCreation()&&(n=h.jsx("div",{children:h.jsx(c("PolarisCreationModal.react"),{})}));return h.jsx(c("VideoPlayerGlobalComponents.react"),{children:h.jsxs(c("PolarisBaseShell.react"),{xstyle:l.root,children:[h.jsxs(c("BaseTheme.react"),{config:c("IGDThemeConfig"),children:[h.jsxs("div",{className:"xnz67gz x1iyjqo2 x5yr21d xmz0i5r xlnp5zw",children:[m&&h.jsx(j,{}),g&&h.jsx(k,{}),h.jsxs(c("IGDSBox.react"),{height:"100vh",position:"relative",width:"100%",children:[b("cr:1005")!=null?h.jsxs(b("cr:1005"),{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&h.jsx(i,{}),a]}):h.jsxs(h.Fragment,{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&h.jsx(i,{}),a]}),h.jsx("div",{children:h.jsx(c("PolarisToastWrapper.react"),{})})]})]}),e&&d("polarisIsUserLoggedIn").isUserLoggedIn()&&h.jsx("div",{children:h.jsx(c("PolarisSwitchAccountsModal.react"),{})}),n]}),h.jsx(c("PolarisQPManager.react"),{slot:d("PolarisQPConstants").SLOTS.inbox})]})})};e=a;g["default"]=e}),98);
__d("MAWInternalLog",["WALoggerDeferred","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function a(a){c("gkx")("2099")&&void d("WALoggerDeferred").LOG(h(),a)}g.internalLog=a}),98);
__d("DirectRequestsDeclineMultipleButtonFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsDeclineMultipleButtonFalcoEvent").__setRef("DirectRequestsDeclineMultipleButtonFalcoEventDeferred");function a(a){var b=a.e_counter_channel,c=a.is_interop;h.onReady(function(a){return a.log(function(){return{e_counter_channel:b,is_interop:c}})})}g.logDirectRequestsDeclineMultipleButtonFalcoEvent=a}),98);
__d("DirectRequestsDeclineMultipleConfirmFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsDeclineMultipleConfirmFalcoEvent").__setRef("DirectRequestsDeclineMultipleConfirmFalcoEventDeferred");function a(a){var b=a.all_used,c=a.e_counter_channel,d=a.is_interop,e=a.num_requests_visible,f=a.num_selected;h.onReady(function(a){return a.log(function(){return{all_used:b,e_counter_channel:c,is_interop:d,num_requests_visible:e,num_selected:f}})})}g.logDirectRequestsDeclineMultipleConfirmFalcoEvent=a}),98);
__d("IGDConfirmBulkDeleteMessageRequestsLogger",["DirectRequestsDeclineMultipleConfirmFalcoEventDeferred"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){d("DirectRequestsDeclineMultipleConfirmFalcoEventDeferred").logDirectRequestsDeclineMultipleConfirmFalcoEvent({all_used:a===b,e_counter_channel:"",is_interop:!1,num_requests_visible:a.toString(),num_selected:b.toString()})}g.logConfirmBulkDeleteMessageRequests=a}),98);
__d("IGDOpenBulkDeleteOpenMessageRequestsDialogLogger",["DirectRequestsDeclineMultipleButtonFalcoEventDeferred"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("DirectRequestsDeclineMultipleButtonFalcoEventDeferred").logDirectRequestsDeclineMultipleButtonFalcoEvent({e_counter_channel:"",is_interop:!1})}g.logOpenBulkDeleteOpenMessageRequestsDialog=a}),98);
__d("IGDBulkDeleteMessageRequestsButton.react",["fbt","CometLazyDialogTrigger.react","I64","IGDBaseButton.react","IGDConfirmBulkDeleteMessageRequestsLogger","IGDOpenBulkDeleteOpenMessageRequestsDialogLogger","IGDSText.react","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWIsXacGroupThread.bs","MWPThreadsForThreadList","MWThreadListSupportedThreadTypes.bs","MWXacGating.bs","ODS","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState;function a(){var a=c("useReStore")(),b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads_ranges_v2__generated")).getKeyRange(d("LSIntEnum").ofNumber(-1))},[a],f.id+":47"),e=d("ReQLSuspense").useArray(function(){return d("MWPThreadsForThreadList").createIterable(a,d("LSIntEnum").ofNumber(-1),b).filter(function(a){return d("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(b){return d("I64").equal(a.threadType,b)})!==-1}).filter(function(a){if(d("MWXacGating.bs").isGroupsEnabled())return!0;else return!d("MWIsXacGroupThread.bs").check(a)})},[a,b],f.id+":54"),g=e.reduce(function(a,b){return d("LSMessagingThreadTypeUtil").isSecure(b.threadType)?a:a+1},0),l=j(null),m=e.length,n=k(!1),o=n[0],p=n[1],q=h._("__JHASH__VNroKOFZj79__JHASH__");return i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(){},onDeleteFulfill:function(){p(!1),g>0&&d("IGDConfirmBulkDeleteMessageRequestsLogger").logConfirmBulkDeleteMessageRequests(g,g)},onDeleteStart:function(){return p(!0)},threads:e},dialogResource:c("JSResourceForInteraction")("IGDBulkDeleteMessageRequestsDialog.react").__setRef("IGDBulkDeleteMessageRequestsButton.react"),children:function(a){return i.jsx("div",{className:"x1yrsyyn x10b6aqq",children:i.jsx(c("IGDBaseButton.react"),{disabled:m===0||o,onClick:function(){a(),d("ODS").bumpEntityKey(3185,"igd.message_requests","delete_bulk"),g>0&&d("IGDOpenBulkDeleteOpenMessageRequestsDialogLogger").logOpenBulkDeleteOpenMessageRequestsDialog()},ref:l,children:i.jsx(c("IGDSText.react"),{color:"errorOrDestructive",size:"label",textAlign:"start",children:q})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMaster.react",["I64","IGDNullState.react","IGDOpenThreadContainer.react","IGDRouteProvider.react","LSMessagingThreadTypeUtil","cr:5493","react","useForceUpdate","useMaybeAddE2EEAnnotations"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useLayoutEffect,j=e.useRef;function a(){var a=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),e=d("IGDRouteProvider.react").useThreadTypeFromCurrentRoute();c("useMaybeAddE2EEAnnotations")();var f=function(){if(a==null)return h.jsx(c("IGDNullState.react"),{});var f=e!=null?d("LSMessagingThreadTypeUtil").isSecure(e):!1;return f?!b("cr:5493")?h.jsx(c("IGDNullState.react"),{}):h.jsx(b("cr:5493"),{threadKey:a},d("I64").to_string(a)):h.jsx(c("IGDOpenThreadContainer.react"),{threadKey:a},d("I64").to_string(a))};return k(a,f)}a.displayName=a.name+" [from "+f.id+"]";function k(a,b){var e=a?d("I64").to_string(a):void 0,f=j(e);a=j(null);var g=c("useForceUpdate")();i(function(){f.current!==e&&(f.current=e,window.requestAnimationFrame(g))},[g,e]);if(f.current!==e)return a.current;a.current=b();return a.current}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWSetupPresenceReportingDeferred.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferred")("MWSetupPresenceReporting.react").__setRef("MWSetupPresenceReportingDeferred.react"));function a(){return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=a.children;return a}a.displayName=a.name+" [from "+f.id+"]";e=(c=b("cr:6234")==null?void 0:b("cr:6234").MWPAudioPlaybackContextProvider)!=null?c:a;d=e;g["default"]=d}),98);
__d("translatedServerString",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}f["default"]=a}),66);
__d("useSubscribeToErrorTableAndShowToast",["ReQL","react","requireDeferred","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect,i=c("requireDeferred")("LSUserVisibleErrorsUtil").__setRef("useSubscribeToErrorTableAndShowToast"),j=c("requireDeferred")("mwPushToast").__setRef("useSubscribeToErrorTableAndShowToast"),k={contents:!1};function a(){var a=c("useReStore")();return h(function(){if(k.contents)return;k.contents=!0;var b=d("ReQL").fromTableAscending(a.table("user_visible_errors")).subscribe(function(b,d){switch(d.operation){case"add":var e=d.value;b=e.presentationStyle;if(b!=null&&b!=="toast"&&b!=="undefined")return;j.onReady(function(b){b.mwPushErrorToast({body:e.errorBodyText!=null?c("translatedServerString")(e.errorBodyText):void 0,onDismiss:function(){i.onReady(function(b){b.removeUserVisibleErrorFromTable(a,e.errorId)})},title:c("translatedServerString")(e.errorTitleText)})});return;case"put":case"delete":return}});return function(){k.contents=!1;return b()}},[a])}g["default"]=a}),98);
__d("IGDInboxRoot.react",["BaseHeadingContext","CometRouterFocusRegion.react","IGDDeviceTypeProvider.react","IGDInboxActiveNowTrayConversionLoggingContextProvider","IGDInboxLayout.react","IGDMaster.react","MWSetupPresenceReportingDeferred.react","XPlatWebAudioPlaybackContextProvider.react","cr:2598","react","useGetStableCometRouterDispatcher","useSubscribeToErrorTableAndShowToast"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function j(){var a=i(c("BaseHeadingContext"));return h.jsx(c("CometRouterFocusRegion.react"),{children:h.jsx(c("BaseHeadingContext").Provider,{children:h.jsx(c("IGDMaster.react"),{}),value:a+1|0})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.leftRail;c("useSubscribeToErrorTableAndShowToast")();b("cr:2598")==null?void 0:b("cr:2598").useEBShadowTest();return h.jsx(d("IGDDeviceTypeProvider.react").IGDDeviceTypeProvider,{isMobile:!1,children:h.jsxs(d("useGetStableCometRouterDispatcher").CometRouterDispatcherGetterContextProvider,{children:[h.jsx(d("IGDInboxLayout.react").IGDInboxLayoutContainer,{children:h.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:h.jsxs(d("IGDInboxActiveNowTrayConversionLoggingContextProvider").IGDInboxActiveNowTrayConversionLoggingContextProvider,{children:[h.jsx(d("IGDInboxLayout.react").IGDInboxLayoutLeftColumn,{children:a}),h.jsx(d("IGDInboxLayout.react").IGDInboxLayoutContentArea,{children:h.jsx(j,{})})]})})}),h.jsx(c("MWSetupPresenceReportingDeferred.react"),{})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageRequestLeftRailLayout.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={messageRequestsRoot:{borderEnd:"xvb8j5",boxSizing:"x1afcbsf",display:"x78zum5",flexDirection:"xdt5ytf",minHeight:"x1us19tq",position:"x1n2onr6",width:"xh8yej3",$$css:!0},mobileRoot:{borderEnd:"x1b1mbwd",height:"x1dr59a3",$$css:!0},page:{display:"x78zum5",height:"x5yr21d",width:"xh8yej3",$$css:!0},root:{backgroundColor:"xvbhtw8",height:"x5yr21d",outline:"x1a2a7pz",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.isMobile;b=b;a=(a=a)!=null?a:!1;return h.jsx("div",{className:c("stylex")(i.root,a?i.mobileRoot:!1),children:h.jsx("div",{className:"x78zum5 x5yr21d xh8yej3",children:h.jsx("div",{className:"xvb8j5 x1afcbsf x78zum5 xdt5ytf x1us19tq x1n2onr6 xh8yej3",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;a=a;return h.jsx("div",{className:"xyinxu5 xxbr6pl x1g2khh7 xbbxn1n",children:a})}b.displayName=b.name+" [from "+f.id+"]";function e(a){a=a.children;a=a;return h.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k xyamay9 x4uap5 x1l90r2v xkhd6sd x2b8uid xh8yej3",children:a})}e.displayName=e.name+" [from "+f.id+"]";g.Container=a;g.InfoBox=b;g.Footer=e}),98);
__d("IGDMessageRequestLeftRail.react",["fbt","CometTransientDialogProvider.react","IGDBulkDeleteMessageRequestsButton.react","IGDListCell.react","IGDMessageRequestLeftRailLayout.react","IGDMobileNavigationButton.react","IGDNavigation","IGDRouteProvider.react","IGDSBox.react","IGDSChevronIcon","IGDSEyeOffOutlineIcon","IGDSText.react","IGDSectionHeader.react","IGDThreadList.react","LSIntEnum","MWPActor.react","MWPThreadsForThreadList","MWVerticalRhythm","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(){var a=c("useReStore")(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("threads_ranges_v2__generated")).getKeyRange(d("LSIntEnum").ofNumber(-1))},[a],f.id+":45");return d("ReQLSuspense").useFirst(function(){return d("MWPThreadsForThreadList").createIterable(a,d("LSIntEnum").ofNumber(-1),e)},[a,b,e],f.id+":53")!=null}var k=h._("__JHASH__1t-ijjLolTC__JHASH__");function l(a){a.entryPoint;var b=a.hiddenRequestsListItem,e=a.info,f=a.isMobile,g=a.onReturn,h=a.parentThreadKey;a=a.title;var k=j();return i.jsxs(i.Fragment,{children:[i.jsx(c("IGDSectionHeader.react"),{isMobile:f,noBottomBorder:!0,startAdornment:i.jsx(c("IGDMobileNavigationButton.react"),{onClick:g}),children:i.jsx(c("IGDSText.react"),{size:"headline2",weight:"semibold",children:a})}),e!=null?i.jsx(d("IGDMessageRequestLeftRailLayout.react").InfoBox,{children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:e})}):null,i.jsx(c("IGDThreadList.react"),{afterContent:k?b:void 0,beforeContent:k?void 0:b,gridLabel:a,isMessageRequestRoute:!0,parentThreadKey:h})]})}l.displayName=l.name+" [from "+f.id+"]";var m={avatarBackground:{backgroundColor:"x19g9edo",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xnnlda6",width:"x15yg21f",$$css:!0}};function n(a){a=a.isMobile;var b=d("IGDNavigation").useIGDNavigation();return i.jsxs(i.Fragment,{children:[i.jsx(l,{entryPoint:"inboxThreadList",hiddenRequestsListItem:i.jsx(c("IGDListCell.react"),{addOnEnd:i.jsx(c("IGDSChevronIcon"),{alt:"Chevron icon to indicate entering the hidden requests window",color:"ig-primary-text",direction:"next",size:16}),addOnStart:i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",xstyle:m.avatarBackground,children:i.jsx(c("IGDSEyeOffOutlineIcon"),{alt:"Eye-off icon for the hidden requests",color:"ig-primary-text",size:24})}),content:i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:19}),i.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:1,size:"body",weight:"normal",children:h._("__JHASH__X7L8UEukC2K__JHASH__")}),i.jsx(c("MWVerticalRhythm"),{height:19})]}),onPress:function(){return b.openHiddenRequests()},size:"large"}),info:h._("__JHASH__CGYj424Ak7B__JHASH__"),isMobile:a,onReturn:function(){return b.goToNullState()},parentThreadKey:d("LSIntEnum").ofNumber(-1),title:k}),i.jsx(d("IGDMessageRequestLeftRailLayout.react").Footer,{children:i.jsx(c("IGDBulkDeleteMessageRequestsButton.react"),{})})]})}n.displayName=n.name+" [from "+f.id+"]";function o(a){a=a.isMobile;var b=d("IGDNavigation").useIGDNavigation();return i.jsx(l,{entryPoint:"inboxThreadList",info:h._("__JHASH__-xRAJ6voSvo__JHASH__"),isMobile:a,onReturn:function(){return b.openPendingInbox()},parentThreadKey:d("LSIntEnum").ofNumber(-3),title:h._("__JHASH__NUWCEJOzzXk__JHASH__")})}o.displayName=o.name+" [from "+f.id+"]";function a(a){a=a.isMobile;a=a===void 0?!1:a;var b=d("IGDRouteProvider.react").useIsCurrentRouteMessageHiddenRequests();b=b?i.jsx(o,{isMobile:a}):i.jsx(n,{isMobile:a});return i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(d("IGDMessageRequestLeftRailLayout.react").Container,{isMobile:a,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWEncryptedBackupsIssueRangeQueryDeferred",["react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("requireDeferred")("MWEncryptedBackupsIssueRangeQuery.bs").__setRef("useMWEncryptedBackupsIssueRangeQueryDeferred");function a(){var a=c("useReStore")();return h(function(b,c,d,e){i.onReady(function(f){return f.runQuery(a,b,c,d,e)})},[a])}g["default"]=a}),98);
__d("useMAWQPLLogger",["QPLUserFlow","Random","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){return h(function(){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLFailure:function(b,d){c("QPLUserFlow").endFailure(a,d.name,{error:d,instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}},[a])}g.useMAWQPLLogger=a}),98);
__d("MAWFetchMoreMessages",["I64","LSFactory","LSIssueMessagesRangeQuery","MAWBridgeSendAndReceive","MAWDbMsg","MAWInternalLog","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","gkx","promiseDone","qpl","react","useMAWQPLLogger","useMWEncryptedBackupsIssueRangeQueryDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");var h=a.useCallback,i=a.useMemo;e={useFetchCutoverMessages:function(a,e,g){var i=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(i.table("messages_ranges_v2__generated")).getKeyRange(a)},[i,a],f.id+":44"),k=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(i.table("messages_ranges_v2__generated")).getKeyRange(e):d("ReQL").empty()},[i,e],f.id+":51"),l=h(function(a){c("promiseDone")(i.runInTransaction(function(d){if(e!=null&&k!=null)return c("LSIssueMessagesRangeQuery")(e,k.minTimestampMs,a,c("LSFactory")(d));else return b("Promise").resolve()},"readwrite"))},[i,k,e]),m=c("useMWEncryptedBackupsIssueRangeQueryDeferred")();return h(function(b){if(j==null)return;var e=j.hasMoreBefore,f=d("MAWDbMsg").toMsgId(j.minMessageId);c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(i,a,"MAWFetchMoreMessages",function(a,c,g){d("MAWInternalLog").internalLog("useFetchCutoverMessages: start loadMoreMsgs");return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"before",numMsgs:10,offsetMsgId:f,threadId:c}).then(function(a){d("MAWInternalLog").internalLog("useFetchCutoverMessages: response is "+a.hasMoreBefore.toString());if(a.hasMoreBefore)return;return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:f,threadId:c}).then(function(a){m(c,d("I64").of_float(a.minMsgTimestampMs),d("I64").of_string("10"),d("I64").zero);if(!e)return l(b)})})}))},[j,i,a,m,l])},useFetchSecureMessages:function(a){var e=c("useReStore")(),f=c("useMWEncryptedBackupsIssueRangeQueryDeferred")(),g=d("useMAWQPLLogger").useMAWQPLLogger(c("qpl")._(25303796,"1974")),h=g.addQPLAnnotations,j=g.markQPLFailure,k=g.markQPLPoint,l=g.markQPLStart,m=g.markQPLSuccess;return i(function(){return function(g,i,n){var o=l();function p(a){k(o,"load_more_msgs_success","successfully loaded messages from worker"),h(o,a)}d("MAWInternalLog").internalLog("useFetchSecureMessages: started to get message range");k(o,"before_start_load_more_msgs","before fetching messages range from table");h(o,{string:babelHelpers["extends"]({direction:n,thread_id:d("I64").to_string(i)},a!=null?{thread_type:d("I64").to_string(a)}:{})});return d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("messages_ranges_v2__generated")).getKeyRange(i)).then(function(a){if(a!=null&&!a.isLoadingBefore&&n==="before"){k(o,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,i,"MAWFetchMoreMessages",function(b,e,h){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");k(o,"put_message_range","put txn in messages_ranges_v2__generated table");return g.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:a.isLoadingAfter,isLoadingBefore:!0,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),k(o,"send_loadMoreMsgs_to_backend","calling backend with loadMoreMsgs"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:n,numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:e}).then(function(b){d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+b.hasMoreBefore.toString());p({bool:{hasMoreBefore:b.hasMoreBefore}});if(b.hasMoreBefore){m(o);return}return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:d("MAWDbMsg").toMsgId(a.minMessageId),threadId:e}).then(function(a){d("MAWInternalLog").internalLog("useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);k(o,"issued_range_query","useFetchSecureMessages: minMsgSortOrderTsResponse "+a.minMsgTimestampMs);m(o);return f(e,d("I64").of_float(a.minMsgTimestampMs),d("I64").of_string("10"),d("I64").zero)})}))})})["catch"](function(a){j(o,a)})}if(c("gkx")("8830")&&a!=null&&!a.isLoadingAfter&&n==="after"){k(o,"start_load_more_msgs","starting the load more QPL event");return d("MAWMiActOnActThreadReady").onActThreadReady(e,i,"MAWFetchMoreMessages",function(b,e,f){d("MAWInternalLog").internalLog("useFetchSecureMessages: put message range");return g.table("messages_ranges_v2__generated").put({hasMoreAfter:a.hasMoreAfter,hasMoreBefore:a.hasMoreBefore,isLoadingAfter:!0,isLoadingBefore:a.isLoadingBefore,maxMessageId:a.maxMessageId,maxTimestampMs:a.maxTimestampMs,minMessageId:a.minMessageId,minTimestampMs:a.minTimestampMs,threadKey:a.threadKey}).then(function(){d("MAWInternalLog").internalLog("useFetchSecureMessages: loadMoreMsgs started"),k(o,"send_loadMoreMsgs_to_backend","useFetchSecureMessages: loadMoreMsgs started"),c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{direction:"after",numMsgs:10,offsetMsgId:d("MAWDbMsg").toMsgId(a.maxMessageId),threadId:e}).then(function(a){p({bool:{hasMoreAfter:a.hasMoreAfter}}),d("MAWInternalLog").internalLog("useFetchSecureMessages: response is "+a.hasMoreAfter.toString())})["catch"](function(a){j(o,a)}))})})["catch"](function(a){j(o,a)})}h(o,{bool:{isLoadingAfter:a==null?void 0:a.isLoadingAfter,isLoadingBefore:a==null?void 0:a.isLoadingBefore}});k(o,"already_loading_messages","end the load more QPL event.");m(o);return b("Promise").resolve()})["catch"](function(a){j(o,a)})}},[h,e,f,j,k,l,m,a])}};a=e;g["default"]=a}),98);
__d("PolarisDirectInbox.react",["IGDInboxContextProviders.react","IGDInboxLeftRail.react","IGDInboxRoot.react","IGDMessageRequestLeftRail.react","IGDPageSetup.react","IGDShell.react","PolarisDirectInboxMetaManager.react","PolarisDirectStrings","cr:3279","react","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.placeholder;var e=c("useRoutePassthroughProps")();e=e!=null&&(e.entryPoint==="pendingRequests"||e.entryPoint==="inboxSpam");e=e?h.jsx(c("IGDMessageRequestLeftRail.react"),{}):h.jsx(c("IGDInboxLeftRail.react"),{});var f=b("cr:3279"),g="DirectThreadPage",i=d("PolarisDirectStrings").INBOX_STRING;return h.jsx(c("IGDShell.react"),{children:h.jsx(c("IGDPageSetup.react"),{placeholder:a,children:h.jsx(d("IGDInboxContextProviders.react").IGDInboxContextProviders,{children:f?h.jsxs(f,{children:[h.jsx(c("PolarisDirectInboxMetaManager.react"),{id:g,title:i}),h.jsx(c("IGDInboxRoot.react"),{leftRail:e})]}):h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisDirectInboxMetaManager.react"),{id:g,title:i}),h.jsx(c("IGDInboxRoot.react"),{leftRail:e})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);